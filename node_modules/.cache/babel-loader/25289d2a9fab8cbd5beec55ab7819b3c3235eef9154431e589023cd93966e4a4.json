{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport axios from \"axios\";\nexport default {\n  namespaced: true,\n  mutations: {\n    getBorrowVoucher(state, data) {\n      state.borrowApplicationArr = data.borrowApplicationDTOList;\n      state.dueVoucherList = data.dueVoucherDTOList;\n      state.borrowComponentTotal = data.borrowTotal.borrowComponentTotal;\n      state.borrowVoucherTotal = data.borrowTotal.borrowVoucherTotal;\n      if (data.dueVoucherDTOList && data.dueVoucherDTOList.length > 0) {\n        state.dueVoucherSum = data.dueVoucherDTOList[0].dueVoucherSum;\n      } else {\n        state.dueVoucherSum = 0;\n      }\n    },\n    getInformation(state, data) {\n      state.informationArr = data;\n    },\n    setFileUpdateLoadPageShow(state, isShow) {\n      state.fileUpdateLoadPageShow = isShow;\n    },\n    setUserHeaderCircleUrl(state, file) {\n      state.userHeaderCircleBlob = file;\n      if (window.createObjectURL != undefined) {\n        state.userHeaderCircleUrl = window.createObjectURL(file);\n      } else if (window.URL != undefined) {\n        state.userHeaderCircleUrl = window.URL.createObjectURL(file);\n      } else if (window.webkitURL != undefined) {\n        state.userHeaderCircleUrl = window.webkitURL.createObjectURL(file);\n      }\n    }\n  },\n  actions: {\n    getBorrowVoucher(context) {\n      axios.post(`/OSPApplication/firstPage/borrowVoucher/${window.parent.parent.reactGPO.UserName}`).then(Response => {\n        if (Response.data.code === \"0\") {\n          context.commit(\"getBorrowVoucher\", Response.data.data);\n        } else {\n          context.commit(\"grounding/setWarningMsg\", {\n            message: Response.data.message,\n            type: \"error\"\n          }, {\n            root: true\n          });\n        }\n      }, error => {\n        context.commit(\"grounding/setWarningMsg\", {\n          message: error.data,\n          type: \"error\"\n        }, {\n          root: true\n        });\n      });\n    },\n    getInformation(context) {\n      axios.post(`/OSPApplication/firstPage/getInformation`).then(Response => {\n        if (Response.data.code === \"0\") {\n          context.commit(\"getInformation\", Response.data.data);\n        } else {\n          context.commit(\"grounding/setWarningMsg\", {\n            message: Response.data.message,\n            type: \"error\"\n          }, {\n            root: true\n          });\n        }\n      }, error => {\n        context.commit(\"grounding/setWarningMsg\", {\n          message: error.data,\n          type: \"error\"\n        }, {\n          root: true\n        });\n      });\n    },\n    async uploadHeadPic(context, _ref) {\n      let {\n        file,\n        vc\n      } = _ref;\n      const formData = new FormData();\n      formData.append(\"file\", file);\n      await axios.post(`/OSPApplication/general/uploadHeadPic/${window.parent.parent.reactGPO.UserName}`, formData, {\n        \"Content-Type\": \"multipart/form-data;charset=utf-8\"\n      }).then(Response => {\n        if (Response.data.code === \"0\") {\n          context.commit(\"setUserHeaderCircleUrl\", file);\n        } else {\n          vc.title = Response.data.message.split(\": \")[1];\n          vc.isShowAlter = true;\n        }\n      }, error => {\n        vc.title = error.data;\n        vc.isShowAlter = true;\n      });\n    },\n    async getUserHead(context) {\n      axios.get(`/OSPApplication/general/viewUserHeadPic/${window.parent.parent.reactGPO.UserName}`, {\n        responseType: 'blob'\n      }).then(Response => {\n        debugger;\n        const blob = new Blob([Response.data], {\n          type: Response.data.type\n        });\n        context.commit(\"setUserHeaderCircleUrl\", blob);\n      });\n    }\n  },\n  state: {\n    userHeaderCircleUrl: \"\",\n    userHeaderCircleBlob: \"\",\n    userName: window.parent.parent.reactGPO.UserName,\n    userCaption: window.parent.parent.reactGPO.UserCaption,\n    userJob: window.parent.parent.reactGPO.orgName,\n    dueVoucherSum: 0,\n    dueVoucherList: [],\n    borrowVoucherTotal: 0,\n    borrowComponentTotal: 0,\n    borrowApplicationArr: [],\n    archivesPolicyArr: [{\n      \"orgName\": \"集团\",\n      \"policyMessage\": \"集团档案管理规章制度\"\n    }, {\n      \"orgName\": \"人事\",\n      \"policyMessage\": \"2023年新员工手册内容更新\"\n    }, {\n      \"orgName\": \"系统\",\n      \"policyMessage\": \"2022年4月VI-财务中台升级通\"\n    }, {\n      \"orgName\": \"政策\",\n      \"policyMessage\": \"员工2022年全年个税-专项附加税扣除\"\n    }],\n    informationArr: [],\n    fileUpdateLoadPageShow: false\n  }\n};","map":{"version":3,"names":["axios","namespaced","mutations","getBorrowVoucher","state","data","borrowApplicationArr","borrowApplicationDTOList","dueVoucherList","dueVoucherDTOList","borrowComponentTotal","borrowTotal","borrowVoucherTotal","length","dueVoucherSum","getInformation","informationArr","setFileUpdateLoadPageShow","isShow","fileUpdateLoadPageShow","setUserHeaderCircleUrl","file","userHeaderCircleBlob","window","createObjectURL","undefined","userHeaderCircleUrl","URL","webkitURL","actions","context","post","parent","reactGPO","UserName","then","Response","code","commit","message","type","root","error","uploadHeadPic","_ref","vc","formData","FormData","append","title","split","isShowAlter","getUserHead","get","responseType","blob","Blob","userName","userCaption","UserCaption","userJob","orgName","archivesPolicyArr"],"sources":["C:/Users/ainizuofurong/Desktop/vue_electronic_archives/src/store/firstPage.js"],"sourcesContent":["import axios from \"axios\"\r\nexport default {\r\n    namespaced:true,\r\n    mutations:{\r\n        getBorrowVoucher(state,data){\r\n            state.borrowApplicationArr = data.borrowApplicationDTOList;\r\n            state.dueVoucherList = data.dueVoucherDTOList;\r\n            state.borrowComponentTotal = data.borrowTotal.borrowComponentTotal;\r\n            state.borrowVoucherTotal = data.borrowTotal.borrowVoucherTotal;\r\n            if(data.dueVoucherDTOList && data.dueVoucherDTOList.length>0){\r\n                state.dueVoucherSum =  data.dueVoucherDTOList[0].dueVoucherSum;\r\n            } else{\r\n                state.dueVoucherSum = 0 ;\r\n            }\r\n        },\r\n        getInformation(state,data){\r\n            state.informationArr = data;\r\n        },\r\n        setFileUpdateLoadPageShow(state,isShow){\r\n            state.fileUpdateLoadPageShow = isShow;\r\n        },\r\n        setUserHeaderCircleUrl(state,file){\r\n            state.userHeaderCircleBlob = file;\r\n            if(window.createObjectURL != undefined){\r\n                state.userHeaderCircleUrl = window.createObjectURL(file);\r\n            } else if(window.URL != undefined){\r\n                state.userHeaderCircleUrl = window.URL.createObjectURL(file);\r\n            } else if(window.webkitURL != undefined){\r\n                state.userHeaderCircleUrl = window.webkitURL.createObjectURL(file);\r\n            }\r\n        }\r\n    },\r\n    actions:{\r\n        getBorrowVoucher(context){\r\n            axios.post(`/OSPApplication/firstPage/borrowVoucher/${window.parent.parent.reactGPO.UserName}`).then(Response=>{\r\n                if(Response.data.code===\"0\"){\r\n                    context.commit(\"getBorrowVoucher\",Response.data.data);\r\n                } else{\r\n                    context.commit(\r\n                        \"grounding/setWarningMsg\",\r\n                        { message: Response.data.message, type: \"error\" },\r\n                        { root: true }\r\n                      );\r\n                }\r\n            },\r\n            error=>{\r\n                context.commit(\r\n                    \"grounding/setWarningMsg\",\r\n                    { message: error.data, type: \"error\" },\r\n                    { root: true }\r\n                  );\r\n            })\r\n        },\r\n        getInformation(context){\r\n            axios.post(`/OSPApplication/firstPage/getInformation`).then(Response=>{\r\n                if(Response.data.code===\"0\"){\r\n                    context.commit(\"getInformation\",Response.data.data);\r\n                } else{\r\n                    context.commit(\r\n                        \"grounding/setWarningMsg\",\r\n                        { message: Response.data.message, type: \"error\" },\r\n                        { root: true }\r\n                      );\r\n                }\r\n            },\r\n            error=>{\r\n                context.commit(\r\n                    \"grounding/setWarningMsg\",\r\n                    { message: error.data, type: \"error\" },\r\n                    { root: true }\r\n                  );\r\n            })\r\n        },\r\n        async uploadHeadPic(context,{file,vc}){\r\n            const formData = new FormData();\r\n            formData.append(\"file\",file);\r\n            await axios.post(`/OSPApplication/general/uploadHeadPic/${window.parent.parent.reactGPO.UserName}`,formData,{\r\n                \"Content-Type\": \"multipart/form-data;charset=utf-8\"\r\n            }).then(Response=>{\r\n                if(Response.data.code===\"0\"){\r\n                    context.commit(\"setUserHeaderCircleUrl\",file);\r\n                }else{\r\n                    vc.title = Response.data.message.split(\": \")[1];\r\n                    vc.isShowAlter = true;\r\n                }\r\n            },\r\n            error=>{\r\n                    vc.title = error.data;\r\n                    vc.isShowAlter = true;\r\n            })\r\n        },\r\n        async getUserHead(context){\r\n            axios.get(`/OSPApplication/general/viewUserHeadPic/${window.parent.parent.reactGPO.UserName}`,{\r\n                responseType: 'blob'\r\n            }).then(Response=>{\r\n                debugger\r\n                const blob = new Blob([Response.data], { type: Response.data.type });\r\n                context.commit(\"setUserHeaderCircleUrl\",blob);\r\n            })\r\n        }\r\n    },\r\n    state:{\r\n        userHeaderCircleUrl:\"\",\r\n        userHeaderCircleBlob:\"\",\r\n        userName:window.parent.parent.reactGPO.UserName,\r\n        userCaption:window.parent.parent.reactGPO.UserCaption,\r\n        userJob:window.parent.parent.reactGPO.orgName,\r\n        dueVoucherSum:0,\r\n        dueVoucherList:[],\r\n        borrowVoucherTotal:0,\r\n        borrowComponentTotal:0,\r\n        borrowApplicationArr:[],\r\n        archivesPolicyArr:[{\"orgName\":\"集团\",\"policyMessage\":\"集团档案管理规章制度\"},{\"orgName\":\"人事\",\"policyMessage\":\"2023年新员工手册内容更新\"},{\"orgName\":\"系统\",\"policyMessage\":\"2022年4月VI-财务中台升级通\"},{\"orgName\":\"政策\",\"policyMessage\":\"员工2022年全年个税-专项附加税扣除\"}],\r\n        informationArr:[],\r\n        fileUpdateLoadPageShow:false,\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}