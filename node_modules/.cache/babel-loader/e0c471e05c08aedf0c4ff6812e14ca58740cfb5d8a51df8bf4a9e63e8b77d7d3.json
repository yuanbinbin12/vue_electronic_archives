{"ast":null,"code":"import { mapState, mapMutations, mapActions } from 'vuex';\nexport default {\n  name: 'CabinetDetails',\n  methods: {\n    ...mapMutations(\"QRcode\", [\"setQRCodeIdArr\"]),\n    ...mapActions(\"QRcode\", [\"getQRCodePictureArr\"]),\n    ...mapMutations(\"warehouseQuery\", [\"clearTableData\"]),\n    tableRowClassName(_ref) {\n      let {\n        row,\n        rowIndex\n      } = _ref;\n      if (rowIndex % 2 === 0) {\n        return 'warning-row';\n      } else {\n        return 'success-row';\n      }\n    },\n    //选中之后的函数\n    handleSelectionChange(val) {\n      this.setQRCodeIdArr(val);\n    },\n    getQRCodePictureClick() {\n      this.getQRCodePictureArr(this);\n    }\n  },\n  computed: {\n    ...mapState(\"warehouseQuery\", [\"tableData\"]),\n    ...mapState([\"loading\"])\n  },\n  //通过路由规则，离开该组件被调用\n  beforeRouteLeave(to, from, next) {\n    console.log(to, from);\n    this.clearTableData();\n    next();\n  }\n};","map":{"version":3,"names":["mapState","mapMutations","mapActions","name","methods","tableRowClassName","_ref","row","rowIndex","handleSelectionChange","val","setQRCodeIdArr","getQRCodePictureClick","getQRCodePictureArr","computed","beforeRouteLeave","to","from","next","console","log","clearTableData"],"sources":["src/components/CabinetDetails.vue"],"sourcesContent":["<template>\r\n    <div style=\"padding-top: 50px;\">\r\n      <el-button type=\"primary\" @click=\"getQRCodePictureClick\" round>获取二维码</el-button>\r\n        <el-table\r\n        :data=\"tableData\"\r\n        style=\"width: 100%\"\r\n        :row-class-name=\"tableRowClassName\"\r\n        @selection-change=\"handleSelectionChange\"\r\n            v-loading=\"loading\" \r\n            element-loading-text=\"拼命加载中\"\r\n            element-loading-spinner=\"el-icon-loading\"\r\n            element-loading-background=\"rgba(0, 0, 0, 0.8)\"\r\n        >\r\n            <el-table-column\r\n            type=\"selection\"\r\n            prop=\"cabinetName\"\r\n            label=\"密集柜\"\r\n            width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"archiveCenterName\"\r\n            label=\"档案中心\"\r\n            width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"repositoryName\"\r\n            label=\"库房名\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"levelNum\"\r\n            label=\"层数\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"faceNum\"\r\n            label=\"面数\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"jointNum\"\r\n            label=\"节数\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"slotNum\"\r\n            label=\"卡位数\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"upRate\"\r\n            label=\"上架百分比\">\r\n            </el-table-column>\r\n        </el-table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState,mapMutations,mapActions } from 'vuex';\r\nexport default {\r\n    name: 'CabinetDetails',\r\n    methods: {\r\n      ...mapMutations(\"QRcode\",[\"setQRCodeIdArr\"]),\r\n      ...mapActions(\"QRcode\",[\"getQRCodePictureArr\"]),\r\n      ...mapMutations(\"warehouseQuery\",[\"clearTableData\"]),\r\n        tableRowClassName({row, rowIndex}) {\r\n        if (rowIndex%2 === 0) {\r\n          return 'warning-row';\r\n        } else{\r\n            return 'success-row'\r\n        }\r\n      },\r\n      //选中之后的函数\r\n      handleSelectionChange(val) {\r\n        this.setQRCodeIdArr(val);\r\n      },\r\n      getQRCodePictureClick(){\r\n        this.getQRCodePictureArr(this);\r\n      }\r\n    },\r\n    computed:{\r\n      ...mapState(\"warehouseQuery\",[\"tableData\"]),\r\n      ...mapState([\"loading\"])\r\n    },\r\n    //通过路由规则，离开该组件被调用\r\n    beforeRouteLeave(to,from,next){\r\n        console.log(to,from)\r\n        this.clearTableData();\r\n        next();\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"css\">\r\n .el-table .warning-row {\r\n    background: rgb(250, 250, 250);\r\n  }\r\n  .el-button{\r\n    float: right;\r\n    margin: 10px;\r\n  }\r\n  .el-table .success-row {\r\n    background: rgb(255, 255, 255);\r\n  }\r\n  .cell{\r\n    color: rgba(0, 0, 0, 0.85);\r\n    font-size: 14px;\r\n    font-family: \"Microsoft YaHei\";\r\n    font-weight: 400;\r\n  }\r\n  .el-table__body td{\r\n    padding: 10px 0 !important;\r\n  }\r\n\r\n.el-table {\r\n    --el-table-row-hover-background-color: rgb(31, 117, 204) !important;\r\n}\r\n</style>"],"mappings":"AAqDA,SAAAA,QAAA,EAAAC,YAAA,EAAAC,UAAA;AACA;EACAC,IAAA;EACAC,OAAA;IACA,GAAAH,YAAA;IACA,GAAAC,UAAA;IACA,GAAAD,YAAA;IACAI,kBAAAC,IAAA;MAAA;QAAAC,GAAA;QAAAC;MAAA,IAAAF,IAAA;MACA,IAAAE,QAAA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC,sBAAAC,GAAA;MACA,KAAAC,cAAA,CAAAD,GAAA;IACA;IACAE,sBAAA;MACA,KAAAC,mBAAA;IACA;EACA;EACAC,QAAA;IACA,GAAAd,QAAA;IACA,GAAAA,QAAA;EACA;EACA;EACAe,iBAAAC,EAAA,EAAAC,IAAA,EAAAC,IAAA;IACAC,OAAA,CAAAC,GAAA,CAAAJ,EAAA,EAAAC,IAAA;IACA,KAAAI,cAAA;IACAH,IAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}