{"ast":null,"code":"import $ from 'jquery';\nimport { mapActions, mapMutations, mapState } from \"vuex\";\nimport UserMessage from '@/components/UserMessage.vue';\nimport DueVoucherList from '@/components/DueVoucherList.vue';\nimport BorrowTotal from '@/components/BorrowTotal.vue';\nimport BorrowingApplication from \"@/components/BorrowingApplication.vue\";\nimport ArchivesPolicy from \"@/components/ArchivesPolicy.vue\";\nimport InformationList from \"@/components/InformationList.vue\";\nimport UpLoadHeadPicture from '@/components/UpLoadHeadPicture.vue';\nimport WarningAlter from '@/components/WarningAlter.vue';\nexport default {\n  name: 'FirstPage',\n  components: {\n    UserMessage,\n    DueVoucherList,\n    BorrowTotal,\n    BorrowingApplication,\n    ArchivesPolicy,\n    InformationList,\n    UpLoadHeadPicture,\n    WarningAlter\n  },\n  methods: {\n    ...mapActions(\"firstPage\", [\"getBorrowVoucher\", \"getInformation\", \"getPolicyList\"]),\n    ...mapMutations(\"firstPage\", [\"setIsLoadingFristPage\"]),\n    openDetails() {\n      window.parent.parent.openReactComp({\n        id: \"12345\",\n        caption: '通知公告',\n        serverID: 'ARCHIVE',\n        // 不需要可不传\n        config: {\n          displayType: 'OpenTab',\n          formType: 'ReactComp',\n          reactCompType: 'infoalllist',\n          \"F_TYPE\": \"Notice\",\n          \"infoReactCompType\": \"infodetails\"\n        }\n      });\n    },\n    setScale() {\n      let ratio = 0;\n      const screen = window.screen;\n      const ua = navigator.userAgent.toLowerCase();\n      if (window.devicePixelRatio !== undefined) {\n        ratio = window.devicePixelRatio;\n      } else if (~ua.indexOf('msie')) {\n        if (screen.deviceXDPI && screen.logicalXDPI) {\n          ratio = screen.deviceXDPI / screen.logicalXDPI;\n        }\n      } else if (window.outerWidth !== undefined && window.innerWidth !== undefined) {\n        ratio = window.outerWidth / window.innerWidth;\n      }\n      if (ratio) {\n        ratio = Math.round(ratio * 100);\n        if (~ua.indexOf('firefox')) {\n          document.body.style.MozTransform = 'scale(' + 100 / ratio * 100 / 100 + ')';\n          document.body.style.MozTransformOrigin = '0 0';\n          document.body.style.right = 100 - ratio + '%';\n          document.body.style.bottom = 100 - ratio + '%';\n        } else {\n          document.body.style.zoom = Math.floor(100 / ratio * 100) / 100;\n        }\n      }\n    }\n  },\n  watch: {\n    isLoadingFristPage(newVal, oldVal) {\n      this.getBorrowVoucher();\n      this.getInformation();\n      this.getPolicyList();\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      $(\"#app\").css({\n        \"margin-top\": \"0px\"\n      });\n      $(\"html\").css({\n        \"overflow\": \"hidden\"\n      });\n    });\n    let that = this;\n    window.addEventListener('resize', function () {\n      that.setScale();\n    });\n  },\n  created() {\n    this.getBorrowVoucher();\n    this.getInformation();\n    this.getPolicyList();\n    this.setScale();\n  },\n  computed: {\n    ...mapState(\"firstPage\", [\"fileUpdateLoadPageShow\", \"loadingDownload\", \"isLoadingFristPage\"]),\n    ...mapState(\"grounding\", [\"warningMsg\", \"typeMsg\"])\n  }\n};","map":{"version":3,"names":["$","mapActions","mapMutations","mapState","UserMessage","DueVoucherList","BorrowTotal","BorrowingApplication","ArchivesPolicy","InformationList","UpLoadHeadPicture","WarningAlter","name","components","methods","openDetails","window","parent","openReactComp","id","caption","serverID","config","displayType","formType","reactCompType","setScale","ratio","screen","ua","navigator","userAgent","toLowerCase","devicePixelRatio","undefined","indexOf","deviceXDPI","logicalXDPI","outerWidth","innerWidth","Math","round","document","body","style","MozTransform","MozTransformOrigin","right","bottom","zoom","floor","watch","isLoadingFristPage","newVal","oldVal","getBorrowVoucher","getInformation","getPolicyList","mounted","$nextTick","css","that","addEventListener","created","computed"],"sources":["src/pages/firstPage.vue"],"sourcesContent":["<template>\r\n    <div id=\"firstPage\"\r\n    v-loading=\"loadingDownload\" element-loading-text=\"拼命下载档案政策中\"\r\n            element-loading-spinner=\"el-icon-loading\"\r\n            element-loading-background=\"rgba(0, 0, 0, 0.8)\"\r\n            v-loading.fullscreen=\"fullscreenLoading\"\r\n    >\r\n        <el-row :gutter=\"8\">\r\n            <el-col :span=\"4\" class=\"userMessage\">\r\n                <div class=\"grid-content bg-purple\" style=\"height: 290px;\">\r\n                    <UserMessage/>\r\n                </div>\r\n            </el-col>\r\n            <el-col :span=\"20\">\r\n                <div class=\"grid-content bg-purple\" style=\"height: 290px;\">\r\n                    <DueVoucherList/>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"8\">\r\n            <el-col :span=\"4\">\r\n                <div class=\"grid-content bg-purple\" style=\"height: 271px;\">\r\n                    <div style=\"text-align: left !important;\">\r\n                        <span class=\"borrowTotalSpan\">我的借阅统计</span>\r\n                    </div>\r\n                    <hr>\r\n                    <div>\r\n                        <BorrowTotal/>\r\n                    </div>\r\n                </div>\r\n            </el-col>\r\n            <el-col :span=\"20\">\r\n                <div class=\"grid-content bg-purple\" style=\"height: 271px\">\r\n                    <div style=\"text-align: left !important;\">\r\n                        <span class=\"borrowTotalSpan\">我的借阅申请</span>\r\n                    </div>\r\n                    <hr>\r\n                    <div>\r\n                        <BorrowingApplication/>\r\n                    </div>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"8\">\r\n            <el-col :span=\"12\">\r\n                <div class=\"grid-content bg-purple\" style=\"height: 309px\">\r\n                    <div style=\"text-align: left !important;\">\r\n                        <span class=\"borrowTotalSpan\">档案政策</span>\r\n                    </div>\r\n                    <hr>\r\n                    <div>\r\n                        <ArchivesPolicy/>\r\n                    </div>\r\n                </div>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <div class=\"grid-content bg-purple\" style=\"height: 309px;\">\r\n                    <div style=\"text-align: left !important;\">\r\n                        <span class=\"borrowTotalSpan\">通知公告</span>\r\n                        <div class=\"btn4\" @click=\"openDetails\"><span style=\" font-size: 0.1em;\">更多</span></div>\r\n                    </div>\r\n                    <hr>\r\n                    <div>\r\n                        <InformationList/>\r\n                    </div>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n        <UpLoadHeadPicture v-if=\"fileUpdateLoadPageShow\"/>\r\n        <WarningAlter :warningMsg = \"warningMsg\" :typeMsg=\"typeMsg\" :isShowPage=\"'0'\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery';\r\nimport {mapActions,mapMutations,mapState} from \"vuex\";\r\nimport UserMessage from '@/components/UserMessage.vue';\r\nimport DueVoucherList from '@/components/DueVoucherList.vue';\r\nimport BorrowTotal from '@/components/BorrowTotal.vue';\r\nimport BorrowingApplication from \"@/components/BorrowingApplication.vue\";\r\nimport ArchivesPolicy from \"@/components/ArchivesPolicy.vue\";\r\nimport InformationList from \"@/components/InformationList.vue\";\r\nimport UpLoadHeadPicture from '@/components/UpLoadHeadPicture.vue';\r\nimport WarningAlter from '@/components/WarningAlter.vue';\r\nexport default {\r\n    name: 'FirstPage',\r\n    components:{\r\n        UserMessage,DueVoucherList,BorrowTotal,BorrowingApplication,ArchivesPolicy,InformationList,UpLoadHeadPicture,WarningAlter\r\n    },\r\n    methods:{\r\n        ...mapActions(\"firstPage\",[\"getBorrowVoucher\",\"getInformation\",\"getPolicyList\"]),\r\n        ...mapMutations(\"firstPage\",[\"setIsLoadingFristPage\"]),\r\n        openDetails(){\r\n            window.parent.parent.openReactComp({\r\n                id:\"12345\",\r\n                caption: '通知公告',\r\n                serverID: 'ARCHIVE', // 不需要可不传\r\n                config: {\r\n                            displayType: 'OpenTab',\r\n                            formType: 'ReactComp',\r\n                            reactCompType: 'infoalllist',\r\n                            \"F_TYPE\":\"Notice\",\r\n                            \"infoReactCompType\":\"infodetails\"\r\n                        }\r\n            })\r\n        },\r\n        setScale () {\r\n      let ratio = 0\r\n      const screen = window.screen\r\n      const ua = navigator.userAgent.toLowerCase()\r\n      if (window.devicePixelRatio !== undefined) {\r\n        ratio = window.devicePixelRatio\r\n      } else if (~ua.indexOf('msie')) {\r\n        if (screen.deviceXDPI && screen.logicalXDPI) {\r\n          ratio = screen.deviceXDPI / screen.logicalXDPI\r\n        }\r\n      } else if (window.outerWidth !== undefined && window.innerWidth !== undefined) {\r\n        ratio = window.outerWidth / window.innerWidth\r\n      }\r\n      if (ratio) {\r\n        ratio = Math.round(ratio * 100)\r\n        if (~ua.indexOf('firefox')) {\r\n          document.body.style.MozTransform = 'scale(' + ((100 / ratio) * 100) / 100 + ')'\r\n          document.body.style.MozTransformOrigin = '0 0'\r\n          document.body.style.right = (100 - ratio) + '%'\r\n          document.body.style.bottom = (100 - ratio) + '%'\r\n        } else {\r\n          document.body.style.zoom = Math.floor((100 / ratio) * 100) / 100\r\n        }\r\n      }\r\n    }\r\n    },\r\n    watch:{\r\n        isLoadingFristPage(newVal,oldVal){\r\n            this.getBorrowVoucher();\r\n            this.getInformation();\r\n            this.getPolicyList();\r\n        }\r\n    },\r\n    mounted(){\r\n        this.$nextTick(()=>{\r\n            $(\"#app\").css({\r\n                \"margin-top\":\"0px\"\r\n            });\r\n            $(\"html\").css({\r\n                \"overflow\": \"hidden\"\r\n            })\r\n        })\r\n        let that = this\r\n        window.addEventListener('resize', function () {\r\n        that.setScale()\r\n        })\r\n    },\r\n    created(){\r\n        this.getBorrowVoucher();\r\n        this.getInformation();\r\n        this.getPolicyList();\r\n        this.setScale()\r\n    },\r\n    computed:{\r\n        ...mapState(\"firstPage\",[\"fileUpdateLoadPageShow\",\"loadingDownload\",\"isLoadingFristPage\"]),\r\n        ...mapState(\"grounding\",[\"warningMsg\",\"typeMsg\"]),\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.userMessage{\r\nborder-radius: 3px;\r\nbackground: #fff !important;\r\n}\r\n.borrowTotalSpan{\r\n    font-family: \"MicrosoftYaHei-Bold \";\r\n    font-weight: 600;\r\n    font-size: 18px;\r\n    line-height: 34px;\r\n    color: #2b3136;\r\n}\r\n/* #firstPage{\r\n    \r\n} */\r\n.btn4 {\r\n    float:right;\r\n    margin-top: 5px;\r\n    display: inline;\r\n    border-radius: 20px;\r\n    background-color: rgb(220, 242, 250);\r\n    border: none;\r\n    color: #504d4d;\r\n    text-align: center;\r\n    font-size: 20px;\r\n    width: 80px;\r\n    height: 20px;\r\n    line-height: 18px;\r\n    transition: all 0.5s;\r\n    cursor: pointer;\r\n    vertical-align: middle;\r\n    position: relative;\r\n    left: -20px;\r\n}\r\n \r\n.btn4 span {\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    position: relative;\r\n    transition: 0.5s;\r\n    top:-2px;\r\n}\r\n \r\n.btn4 span::after {\r\n    content: \">>\";\r\n    position: absolute;\r\n    opacity: 0;\r\n    top: 0;\r\n    right: -20px;\r\n    transition: 0.5s;\r\n}\r\n \r\n.btn4:hover span {\r\n    padding-right: 30px;\r\n}\r\n \r\n.btn4:hover span::after {\r\n    opacity: 1;\r\n    right: 0;\r\n}\r\n.el-row{\r\n    margin-bottom: 5px !important;\r\n}\r\n\r\n</style>"],"mappings":"AA0EA,OAAAA,CAAA;AACA,SAAAC,UAAA,EAAAC,YAAA,EAAAC,QAAA;AACA,OAAAC,WAAA;AACA,OAAAC,cAAA;AACA,OAAAC,WAAA;AACA,OAAAC,oBAAA;AACA,OAAAC,cAAA;AACA,OAAAC,eAAA;AACA,OAAAC,iBAAA;AACA,OAAAC,YAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAT,WAAA;IAAAC,cAAA;IAAAC,WAAA;IAAAC,oBAAA;IAAAC,cAAA;IAAAC,eAAA;IAAAC,iBAAA;IAAAC;EACA;EACAG,OAAA;IACA,GAAAb,UAAA;IACA,GAAAC,YAAA;IACAa,YAAA;MACAC,MAAA,CAAAC,MAAA,CAAAA,MAAA,CAAAC,aAAA;QACAC,EAAA;QACAC,OAAA;QACAC,QAAA;QAAA;QACAC,MAAA;UACAC,WAAA;UACAC,QAAA;UACAC,aAAA;UACA;UACA;QACA;MACA;IACA;IACAC,SAAA;MACA,IAAAC,KAAA;MACA,MAAAC,MAAA,GAAAZ,MAAA,CAAAY,MAAA;MACA,MAAAC,EAAA,GAAAC,SAAA,CAAAC,SAAA,CAAAC,WAAA;MACA,IAAAhB,MAAA,CAAAiB,gBAAA,KAAAC,SAAA;QACAP,KAAA,GAAAX,MAAA,CAAAiB,gBAAA;MACA,YAAAJ,EAAA,CAAAM,OAAA;QACA,IAAAP,MAAA,CAAAQ,UAAA,IAAAR,MAAA,CAAAS,WAAA;UACAV,KAAA,GAAAC,MAAA,CAAAQ,UAAA,GAAAR,MAAA,CAAAS,WAAA;QACA;MACA,WAAArB,MAAA,CAAAsB,UAAA,KAAAJ,SAAA,IAAAlB,MAAA,CAAAuB,UAAA,KAAAL,SAAA;QACAP,KAAA,GAAAX,MAAA,CAAAsB,UAAA,GAAAtB,MAAA,CAAAuB,UAAA;MACA;MACA,IAAAZ,KAAA;QACAA,KAAA,GAAAa,IAAA,CAAAC,KAAA,CAAAd,KAAA;QACA,KAAAE,EAAA,CAAAM,OAAA;UACAO,QAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,oBAAAlB,KAAA;UACAe,QAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAE,kBAAA;UACAJ,QAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAG,KAAA,SAAApB,KAAA;UACAe,QAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAI,MAAA,SAAArB,KAAA;QACA;UACAe,QAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAK,IAAA,GAAAT,IAAA,CAAAU,KAAA,OAAAvB,KAAA;QACA;MACA;IACA;EACA;EACAwB,KAAA;IACAC,mBAAAC,MAAA,EAAAC,MAAA;MACA,KAAAC,gBAAA;MACA,KAAAC,cAAA;MACA,KAAAC,aAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;MACA3D,CAAA,SAAA4D,GAAA;QACA;MACA;MACA5D,CAAA,SAAA4D,GAAA;QACA;MACA;IACA;IACA,IAAAC,IAAA;IACA7C,MAAA,CAAA8C,gBAAA;MACAD,IAAA,CAAAnC,QAAA;IACA;EACA;EACAqC,QAAA;IACA,KAAAR,gBAAA;IACA,KAAAC,cAAA;IACA,KAAAC,aAAA;IACA,KAAA/B,QAAA;EACA;EACAsC,QAAA;IACA,GAAA7D,QAAA;IACA,GAAAA,QAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}